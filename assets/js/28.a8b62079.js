(window.webpackJsonp=window.webpackJsonp||[]).push([[28],{378:function(s,a,t){s.exports=t.p+"assets/img/2.fe4f278c.png"},461:function(s,a,t){"use strict";t.r(a);var e=t(10),r=Object(e.a)({},(function(){var s=this,a=s._self._c;return a("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[a("h1",{attrs:{id:"七-使用-node-项目"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#七-使用-node-项目"}},[s._v("#")]),s._v(" 七.使用 NODE 项目")]),s._v(" "),a("h2",{attrs:{id:"_1-制作镜像"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-制作镜像"}},[s._v("#")]),s._v(" 1.制作镜像")]),s._v(" "),a("h3",{attrs:{id:"_1-1-安装-node-js"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-1-安装-node-js"}},[s._v("#")]),s._v(" 1.1 安装 node.js")]),s._v(" "),a("div",{staticClass:"language-js line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[s._v("docker pull node"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v("latest\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("h3",{attrs:{id:"_1-2-修改后端项目"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-2-修改后端项目"}},[s._v("#")]),s._v(" 1.2 修改后端项目")]),s._v(" "),a("p",[s._v("进入项目根目录创建"),a("code",[s._v("Dockerfile")]),s._v("文件")]),s._v(" "),a("div",{staticClass:"language-Dockerfile line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-dockerfile"}},[a("code",[a("span",{pre:!0,attrs:{class:"token instruction"}},[a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("FROM")]),s._v(" node:latest")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token instruction"}},[a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("MAINTAINER")]),s._v(" EOT")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token instruction"}},[a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("ADD")]),s._v(" . /app/")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token instruction"}},[a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("WORKDIR")]),s._v(" /app")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token instruction"}},[a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("RUN")]),s._v(" npm install")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token instruction"}},[a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("ENV")]),s._v(" HOST O.0.0.0")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token instruction"}},[a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("ENV")]),s._v(" PORT 8000")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token instruction"}},[a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("EXPOSE")]),s._v(" 8000")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token instruction"}},[a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("CMD")]),s._v(" ["),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"npm"')]),s._v(","),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"start"')]),s._v("]")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br")])]),a("h3",{attrs:{id:"_1-3-创建-image"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-3-创建-image"}},[s._v("#")]),s._v(" 1.3 创建 image")]),s._v(" "),a("p",[s._v("在"),a("code",[s._v("Dockerfile")]),s._v("文件同目录中执行")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("docker")]),s._v(" build "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-t")]),s._v(" myproject "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(".")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("h2",{attrs:{id:"_2-使用镜像"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-使用镜像"}},[s._v("#")]),s._v(" 2.使用镜像")]),s._v(" "),a("h3",{attrs:{id:"_2-1-启动容器"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-1-启动容器"}},[s._v("#")]),s._v(" 2.1 启动容器")]),s._v(" "),a("p",[a("img",{attrs:{src:t(378),alt:""}})]),s._v(" "),a("ul",[a("li",[s._v("查看"),a("a",{attrs:{href:"localhost:8000"}},[s._v("localhost:8000")])])]),s._v(" "),a("h3",{attrs:{id:"_2-2-查看运行的容器"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-2-查看运行的容器"}},[s._v("#")]),s._v(" 2.2 查看运行的容器")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("docker")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("ps")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])])])}),[],!1,null,null,null);a.default=r.exports}}]);
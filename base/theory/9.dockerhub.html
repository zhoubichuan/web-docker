<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>九.Docker Hub | Docker 学习笔记</title>
    <meta name="generator" content="VuePress 1.9.10">
    <link rel="icon" href="/web-docker/home.png">
    <link rel="manifest" href="/web-docker/manifest.json">
    <script src="/web-docker/dll/vendor.dll.js"></script>
    <script src="https://webapi.amap.com/maps?v=2.0&amp;key=46c9ed4e2d25a0e0ee7c883fd5b1a0c8"></script>
    <script src="https://webapi.amap.com/ui/1.1/main.js?v=1.1.1"></script>
    <meta name="description" content="个人总结的vuepress学习技术文档-语法">
    <meta name="keywords" content="vuepress,最新技术文档,vuepress语法,markdown语法">
    
    <link rel="preload" href="/web-docker/assets/css/0.styles.43bd6768.css" as="style"><link rel="preload" href="/web-docker/assets/js/app.9237d233.js" as="script"><link rel="preload" href="/web-docker/assets/js/2.3ce16d38.js" as="script"><link rel="preload" href="/web-docker/assets/js/1.087005ed.js" as="script"><link rel="preload" href="/web-docker/assets/js/61.24a7281b.js" as="script"><link rel="preload" href="/web-docker/assets/js/19.a80fcc79.js" as="script"><link rel="prefetch" href="/web-docker/assets/js/10.696b0995.js"><link rel="prefetch" href="/web-docker/assets/js/11.82e861e6.js"><link rel="prefetch" href="/web-docker/assets/js/12.34af7789.js"><link rel="prefetch" href="/web-docker/assets/js/13.e31ead39.js"><link rel="prefetch" href="/web-docker/assets/js/14.09d95819.js"><link rel="prefetch" href="/web-docker/assets/js/15.fd30a705.js"><link rel="prefetch" href="/web-docker/assets/js/16.249606b8.js"><link rel="prefetch" href="/web-docker/assets/js/17.c1715703.js"><link rel="prefetch" href="/web-docker/assets/js/18.2b6277e7.js"><link rel="prefetch" href="/web-docker/assets/js/20.35cfbca0.js"><link rel="prefetch" href="/web-docker/assets/js/21.d8756a17.js"><link rel="prefetch" href="/web-docker/assets/js/22.ab12cd04.js"><link rel="prefetch" href="/web-docker/assets/js/23.bd376c61.js"><link rel="prefetch" href="/web-docker/assets/js/24.b1824603.js"><link rel="prefetch" href="/web-docker/assets/js/25.9c9fcfb8.js"><link rel="prefetch" href="/web-docker/assets/js/26.a7111042.js"><link rel="prefetch" href="/web-docker/assets/js/27.bcc69e73.js"><link rel="prefetch" href="/web-docker/assets/js/28.291d074a.js"><link rel="prefetch" href="/web-docker/assets/js/29.349bfae0.js"><link rel="prefetch" href="/web-docker/assets/js/3.5da37471.js"><link rel="prefetch" href="/web-docker/assets/js/30.7b0d7ba8.js"><link rel="prefetch" href="/web-docker/assets/js/31.f2bd1fd4.js"><link rel="prefetch" href="/web-docker/assets/js/32.076b5561.js"><link rel="prefetch" href="/web-docker/assets/js/33.3744f724.js"><link rel="prefetch" href="/web-docker/assets/js/34.d82511af.js"><link rel="prefetch" href="/web-docker/assets/js/35.478f59b4.js"><link rel="prefetch" href="/web-docker/assets/js/36.bb75268e.js"><link rel="prefetch" href="/web-docker/assets/js/37.eedce484.js"><link rel="prefetch" href="/web-docker/assets/js/38.8411bc03.js"><link rel="prefetch" href="/web-docker/assets/js/39.656a7f4c.js"><link rel="prefetch" href="/web-docker/assets/js/4.79faaf3d.js"><link rel="prefetch" href="/web-docker/assets/js/40.21f71c1a.js"><link rel="prefetch" href="/web-docker/assets/js/41.9cd1bb9e.js"><link rel="prefetch" href="/web-docker/assets/js/42.a1fb836b.js"><link rel="prefetch" href="/web-docker/assets/js/43.b8efe1a7.js"><link rel="prefetch" href="/web-docker/assets/js/44.dd06479f.js"><link rel="prefetch" href="/web-docker/assets/js/45.f1e2d2ae.js"><link rel="prefetch" href="/web-docker/assets/js/46.03f0e373.js"><link rel="prefetch" href="/web-docker/assets/js/47.57d4aeff.js"><link rel="prefetch" href="/web-docker/assets/js/48.432775c0.js"><link rel="prefetch" href="/web-docker/assets/js/49.6d097fd0.js"><link rel="prefetch" href="/web-docker/assets/js/5.1519d464.js"><link rel="prefetch" href="/web-docker/assets/js/50.50994d16.js"><link rel="prefetch" href="/web-docker/assets/js/51.b42a58af.js"><link rel="prefetch" href="/web-docker/assets/js/52.8238b2f3.js"><link rel="prefetch" href="/web-docker/assets/js/53.2dc73759.js"><link rel="prefetch" href="/web-docker/assets/js/54.91789fac.js"><link rel="prefetch" href="/web-docker/assets/js/55.7a332527.js"><link rel="prefetch" href="/web-docker/assets/js/56.7886e293.js"><link rel="prefetch" href="/web-docker/assets/js/57.3edeb64e.js"><link rel="prefetch" href="/web-docker/assets/js/58.44ebb055.js"><link rel="prefetch" href="/web-docker/assets/js/59.f1aef9d6.js"><link rel="prefetch" href="/web-docker/assets/js/6.c92edc86.js"><link rel="prefetch" href="/web-docker/assets/js/60.b555ef93.js"><link rel="prefetch" href="/web-docker/assets/js/62.d229aa89.js"><link rel="prefetch" href="/web-docker/assets/js/63.56d9f32f.js"><link rel="prefetch" href="/web-docker/assets/js/64.24f4c29f.js"><link rel="prefetch" href="/web-docker/assets/js/65.6bb78df3.js"><link rel="prefetch" href="/web-docker/assets/js/66.9f3d5ad6.js"><link rel="prefetch" href="/web-docker/assets/js/67.05fe6673.js"><link rel="prefetch" href="/web-docker/assets/js/68.b8b21d4f.js"><link rel="prefetch" href="/web-docker/assets/js/69.13eee791.js"><link rel="prefetch" href="/web-docker/assets/js/7.fce53994.js"><link rel="prefetch" href="/web-docker/assets/js/70.7166f330.js"><link rel="prefetch" href="/web-docker/assets/js/71.6bffcd60.js"><link rel="prefetch" href="/web-docker/assets/js/72.69ab3d4f.js"><link rel="prefetch" href="/web-docker/assets/js/73.0efb0717.js"><link rel="prefetch" href="/web-docker/assets/js/74.831692fc.js"><link rel="prefetch" href="/web-docker/assets/js/75.f7f41d48.js"><link rel="prefetch" href="/web-docker/assets/js/76.13c1a24b.js"><link rel="prefetch" href="/web-docker/assets/js/77.138564dd.js"><link rel="prefetch" href="/web-docker/assets/js/78.e4639210.js"><link rel="prefetch" href="/web-docker/assets/js/79.9435bbe9.js"><link rel="prefetch" href="/web-docker/assets/js/80.114446cd.js"><link rel="prefetch" href="/web-docker/assets/js/81.5a2b52be.js"><link rel="prefetch" href="/web-docker/assets/js/82.23f9763b.js"><link rel="prefetch" href="/web-docker/assets/js/83.5c76a8ba.js"><link rel="prefetch" href="/web-docker/assets/js/84.134b799d.js"><link rel="prefetch" href="/web-docker/assets/js/85.03347edc.js"><link rel="prefetch" href="/web-docker/assets/js/86.7b14c372.js"><link rel="prefetch" href="/web-docker/assets/js/87.d5fc2190.js"><link rel="prefetch" href="/web-docker/assets/js/88.e73b0b4f.js"><link rel="prefetch" href="/web-docker/assets/js/89.a86522c0.js"><link rel="prefetch" href="/web-docker/assets/js/90.4786fb01.js"><link rel="prefetch" href="/web-docker/assets/js/91.e794c3b9.js"><link rel="prefetch" href="/web-docker/assets/js/92.d8b6b43f.js"><link rel="prefetch" href="/web-docker/assets/js/vendors~docsearch.4f61d20c.js">
    <link rel="stylesheet" href="/web-docker/assets/css/0.styles.43bd6768.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/web-docker/" class="home-link router-link-active"><!----> <span class="site-name">Docker 学习笔记</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="基础知识" class="dropdown-title"><span class="title">基础知识</span> <span class="arrow down"></span></button> <button type="button" aria-label="基础知识" class="mobile-dropdown-title"><span class="title">基础知识</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/web-docker/base/desktop/1.index.html" class="nav-link">
  一.桌面版实践
</a></li><li class="dropdown-item"><!----> <a href="/web-docker/base/command/1.index.html" class="nav-link">
  二.命令实践
</a></li><li class="dropdown-item"><!----> <a href="/web-docker/base/theory/1.index.html" class="nav-link">
  三.理论基础
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="高级用法" class="dropdown-title"><span class="title">高级用法</span> <span class="arrow down"></span></button> <button type="button" aria-label="高级用法" class="mobile-dropdown-title"><span class="title">高级用法</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/web-docker/senior/vscode/1.index.html" class="nav-link">
  一.vscode结合
</a></li><li class="dropdown-item"><!----> <a href="/web-docker/senior/compose/1.index.html" class="nav-link">
  二.compose
</a></li></ul></div></div> <a href="https://gitee.com/zhoubichuan/web-docker" target="_blank" rel="noopener noreferrer" class="repo-link">
    查看源码
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="基础知识" class="dropdown-title"><span class="title">基础知识</span> <span class="arrow down"></span></button> <button type="button" aria-label="基础知识" class="mobile-dropdown-title"><span class="title">基础知识</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/web-docker/base/desktop/1.index.html" class="nav-link">
  一.桌面版实践
</a></li><li class="dropdown-item"><!----> <a href="/web-docker/base/command/1.index.html" class="nav-link">
  二.命令实践
</a></li><li class="dropdown-item"><!----> <a href="/web-docker/base/theory/1.index.html" class="nav-link">
  三.理论基础
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="高级用法" class="dropdown-title"><span class="title">高级用法</span> <span class="arrow down"></span></button> <button type="button" aria-label="高级用法" class="mobile-dropdown-title"><span class="title">高级用法</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/web-docker/senior/vscode/1.index.html" class="nav-link">
  一.vscode结合
</a></li><li class="dropdown-item"><!----> <a href="/web-docker/senior/compose/1.index.html" class="nav-link">
  二.compose
</a></li></ul></div></div> <a href="https://gitee.com/zhoubichuan/web-docker" target="_blank" rel="noopener noreferrer" class="repo-link">
    查看源码
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav>  <ul class="sidebar-links"><li><a href="/web-docker/base/theory/1.index.html" class="sidebar-link">Docker 基础</a></li><li><a href="/web-docker/base/theory/1.env.html" class="sidebar-link">一.搭建环境</a></li><li><a href="/web-docker/base/theory/2.docker.html" class="sidebar-link">二.核心组成</a></li><li><a href="/web-docker/base/theory/3.image.html" class="sidebar-link">三.镜像与容器</a></li><li><a href="/web-docker/base/theory/4.net.html" class="sidebar-link">四.网络</a></li><li><a href="/web-docker/base/theory/5.file.html" class="sidebar-link">五.文件系统</a></li><li><a href="/web-docker/base/theory/6.container.html" class="sidebar-link">六.运行和管理容器</a></li><li><a href="/web-docker/base/theory/7.dockerfile.html" class="sidebar-link">七.Dockerfile</a></li><li><a href="/web-docker/base/theory/8.share.html" class="sidebar-link">八.保存和共享镜像</a></li><li><a href="/web-docker/base/theory/9.dockerhub.html" aria-current="page" class="active sidebar-link">九.Docker Hub</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/web-docker/base/theory/9.dockerhub.html#_1-选择镜像与程序版本" class="sidebar-link">1.选择镜像与程序版本</a></li><li class="sidebar-sub-header"><a href="/web-docker/base/theory/9.dockerhub.html#_2-对容器进行配置" class="sidebar-link">2.对容器进行配置</a></li><li class="sidebar-sub-header"><a href="/web-docker/base/theory/9.dockerhub.html#_3-共享自己的镜像" class="sidebar-link">3.共享自己的镜像</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/web-docker/base/theory/9.dockerhub.html#_3-1-tar-包共享" class="sidebar-link">3.1 tar 包共享</a></li></ul></li><li class="sidebar-sub-header"><a href="/web-docker/base/theory/9.dockerhub.html#_4-获取镜像" class="sidebar-link">4.获取镜像</a></li></ul></li><li><a href="/web-docker/base/theory/10.desktop.html" class="sidebar-link">十.Docker Desktop</a></li><li><a href="/web-docker/base/theory/11.compose.html" class="sidebar-link">十一.Docker Compose</a></li><li><a href="/web-docker/base/theory/12.service.html" class="sidebar-link">十二.服务化开发</a></li><li><a href="/web-docker/base/theory/13.find.html" class="sidebar-link">十三.服务发现</a></li><li><a href="/web-docker/base/theory/14.java.html" class="sidebar-link">十四.搭建 Java Web 环境</a></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="九-docker-hub"><a href="#九-docker-hub" class="header-anchor">#</a> 九.Docker Hub</h1> <div class="custom-block tip"><p class="custom-block-title">前言</p> <p>在开发过程中我们用到的镜像大部分还是直接采用 Docker Hub 中已经存在的镜像的，即使自己编写 Dockerfile，也只是对已有镜像进行简单的改动，很少会从零开始搭建镜像。</p></div> <h2 id="_1-选择镜像与程序版本"><a href="#_1-选择镜像与程序版本" class="header-anchor">#</a> 1.选择镜像与程序版本</h2> <p><strong>Alpine 镜像</strong></p> <p>镜像标签中的 Alpine 其实指的是这个镜像内的文件系统内容，是基于 Alpine Linux 这个操作系统的。Alpine Linux 是一个相当精简的操作系统，而基于它的 Docker 镜像可以仅有数 MB 的尺寸。如果软件基于这样的系统镜像之上构建而得，可以想象新的镜像也是十分小巧的。</p> <table><thead><tr><th>操作系统镜像</th> <th>占用空间</th></tr></thead> <tbody><tr><td>alpine:latest</td> <td>4.4 MB</td></tr> <tr><td>ubuntu:latest</td> <td>84.1 MB</td></tr> <tr><td>debian:latest</td> <td>101 MB</td></tr> <tr><td>centos:latest</td> <td>200 MB</td></tr></tbody></table> <p>可以看到，Alpine 系统镜像的尺寸要远小于其他常见的系统镜像。让我们再来比较同一个软件在基于普通系统的镜像和基于 Alpine 系统的镜像后尺寸上的区别。</p> <table><thead><tr><th>镜像标签</th> <th>占用空间</th></tr></thead> <tbody><tr><td>python:3.6-alpine</td> <td>74.2 MB</td></tr> <tr><td>python:3.6-jessie</td> <td>697 MB</td></tr></tbody></table> <p>由于基于 Alpine 系统建立的软件镜像远远小于基于其他系统的软件镜像，它在网络传输上的优势尤为明显。如果我们选择这类的镜像，不但可以节约网络传输的时间，也能减少镜像对硬盘空间的占用。</p> <p>当然，有优点也会有缺点，Alpine 镜像的缺点就在于它实在过于精简，以至于麻雀虽小，也无法做到五脏俱全了。在 Alpine 中缺少很多常见的工具和类库，以至于如果我们想基于软件 Alpine 标签的镜像进行二次构建，那搭建的过程会相当烦琐。所以如果你想要对软件镜像进行改造，并基于其构建新的镜像，那么 Alpine 镜像不是一个很好的选择 (这时候我们更提倡基于 Ubuntu、Debian、CentOS 这类相对完整的系统镜像来构建)。</p> <h2 id="_2-对容器进行配置"><a href="#_2-对容器进行配置" class="header-anchor">#</a> 2.对容器进行配置</h2> <p>自己安装过 MySQL 的朋友一定知道，搭建 MySQL 最麻烦的地方并不是安装的过程，而是安装后进行初始化配置的过程。就拿更改 root 账号的密码来说，在初始的 MySQL 里就要耗费不少工作量。</p> <p>如果我们拿到一个 MySQL 镜像，运行起来的 MySQL 也就约等于一个刚刚安装好的程序，面临的正好是复杂的初始化过程。</p> <p>好在 MySQL 镜像的维护者们为我们打造了一些自动化脚本，通过它们，我们只需要简单的传入几个参数，就能够快速实现对 MySQL 数据库的初始化。</p> <p>在 MySQL 镜像的详情里，描述了我们要如何传入这些参数来启动 MySQL 容器。</p> <p>对于 MySQL 镜像来说，进行软件配置的方法是通过环境变量的方式来实现的 ( 在其他的镜像里，还有通过启动命令、挂载等方式来实现的 )。我们只需要通过这些给出的环境变量，就可以初始化 MySQL 的配置了。</p> <div class="custom-block warning"><p class="custom-block-title">例如：我们可以通过下面的命令来直接建立 MySQL 中的用户和数据库。</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token function">docker</span> run <span class="token parameter variable">--name</span> mysql <span class="token parameter variable">-e</span> <span class="token assign-left variable">MYSQL_DATABASE</span><span class="token operator">=</span>webapp <span class="token parameter variable">-e</span> <span class="token assign-left variable">MYSQL_USER</span><span class="token operator">=</span>www <span class="token parameter variable">-e</span> <span class="token assign-left variable">MYSQL_PASSWORD</span><span class="token operator">=</span>my-secret-pw <span class="token parameter variable">-d</span> mysql:5.7
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>通过这条命令启动的 MySQL 容器，在内部就已经完成了用户的创建和数据库的创建，我们通过 MySQL 客户端就能够直接登录这个用户和访问对应的数据库了。</p></div> <p>如果深究 MySQL 是如何实现这样复杂的功能的，大家可以到 MySQL 镜像的 Dockerfile 源码库里，找到 <a href="https://github.com/docker-library/mysql/blob/master/5.7/docker-entrypoint.sh" target="_blank" rel="noopener noreferrer">docker-entrypoint.sh<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> 这个脚本。</p> <h2 id="_3-共享自己的镜像"><a href="#_3-共享自己的镜像" class="header-anchor">#</a> 3.共享自己的镜像</h2> <p>要在 Docker Hub 上共享镜像，我们必须有一个 Docker Hub 的账号，这自不必说了。在登录到我们账号的控制面板后，我们能够找到创建的按钮，在这里选择 <code>Create Automated Build</code> ( 创建自动构建 )。</p> <p>自动构建镜像是 Docker Hub 为我们提供的一套镜像构建服务，我们只需要提供 Dockerfile 和相关的基本文件，Docker Hub 就能够在云端自动将它们构建成镜像，之后便可以让其他开发者通过 <code>docker pull</code> 命令拉取到这一镜像。</p> <p>自动构建让不需要我们再用本机进行镜像的构建，既能节约时间，又能享受高速的云端机器构建。</p> <p>在 Docker Hub 中并不直接存放我们用于构建的 Dockerfile 和相关文件，我们必须将 Docker Hub 账号授权到 GitHub 或是 Bitbucket 来从这些代码库中获取 Dockerfile 和相关文件。</p> <p>在连接到 GitHub 或 Bitbucket 后，我们就可以选择我们存放 Dockerfile 和相关文件的代码仓库用来创建自动构建了。</p> <p>在基本信息填写完成，点击创建按钮后，Docker Hub 就会开始根据我们 Dockerfile 的内容构建镜像了。而此时，我们也能够访问我们镜像专有的详情页面了。</p> <p>在 Build Details 页面里，我们可以看到镜像构建的进度和详细的构建情况。</p> <h3 id="_3-1-tar-包共享"><a href="#_3-1-tar-包共享" class="header-anchor">#</a> 3.1 tar 包共享</h3> <ul><li>将一个镜像保存为 tar 包</li></ul> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token function">docker</span> save imagename:version  <span class="token parameter variable">-o</span> xxxx.tar
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><ul><li>将多个镜像保存为 tar 包</li></ul> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token function">docker</span> save imagename1:version1  imagename2:version2  <span class="token parameter variable">-o</span> xxxx.tar
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h2 id="_4-获取镜像"><a href="#_4-获取镜像" class="header-anchor">#</a> 4.获取镜像</h2> <p>要拉取镜像，我们可以使用 <code>docker pull</code> 命令，命令的参数就是我们之前所提到的镜像仓库名。</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token function">docker</span> pull ubuntu
Using default tag: latest
latest: Pulling from library/ubuntu
124c757242f8: Downloading <span class="token punctuation">[</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">=</span><span class="token operator">&gt;</span>   <span class="token punctuation">]</span>  <span class="token number">30</span>.19MB/31.76MB
9d866f8bde2a: Download complete
fa3f2f277e67: Download complete
398d32b153e8: Download complete
afde35469481: Download complete
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><p>当我们运行这个命令后，Docker 就会开始从镜像仓库中拉取我们所指定的镜像了，在控制台中，我们可以看到镜像拉取的进度。下载进度会分为几行，其实每一行代表的就是一个镜像层。Docker 首先会拉取镜像所基于的所有镜像层，之后再单独拉取每一个镜像层并组合成这个镜像。当然，如果在本地已经存在相同的镜像层 ( 共享于其他的镜像 )，那么 Docker 就直接略过这个镜像层的拉取而直接采用本地的内容。</p> <p>上面是一个拉取官方镜像并且没有给出镜像标签的例子，大家注意到，当我们没有提供镜像标签时，Docker 会默认使用 latest 这个标签，这个我们在之前的小节中提到过，就不在赘述了。</p> <p>当然，我们也能够使用完整的镜像命名来拉取镜像。</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token function">docker</span> pull openresty/openresty:1.13.6.2-alpine
<span class="token number">1.13</span>.6.2-alpine: Pulling from openresty/openresty
ff3a5c916c92: Pull complete
ede0a2a1012b: Pull complete
0e0a11843023: Pull complete
246b2c6f4992: Pull complete
Digest: sha256:23ff32a1e7d5a10824ab44b24a0daf86c2df1426defe8b162d8376079a548bf2
Status: Downloaded newer image <span class="token keyword">for</span> openresty/openresty:1.13.6.2-alpine
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><p>镜像在被拉取之后，就存放到了本地，接受当前这个 Docker 实例管理了，我们可以通过 <code>docker images</code> 命令看到它们。</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token function">docker</span> images
REPOSITORY            TAG                 IMAGE ID            CREATED             SIZE
ubuntu                latest              cd6d8154f1e1        <span class="token number">12</span> days ago         <span class="token number">84</span>.1MB
openresty/openresty   <span class="token number">1.13</span>.6.2-alpine     08d5c926e4b6        <span class="token number">3</span> months ago        <span class="token number">49</span>.3MB
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div></div> <footer class="page-edit"><div class="edit-link"><a href="https://gitee.com/zhoubichuan/web-docker/edit/master/src/base/theory/9.dockerhub.md" target="_blank" rel="noopener noreferrer">在gitee上编辑此页</a> <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></div> <div class="last-updated"><span class="prefix">上次更新:</span> <span class="time">2024/3/30下午4:14:28</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/web-docker/base/theory/8.share.html" class="prev">
        八.保存和共享镜像
      </a></span> <span class="next"><a href="/web-docker/base/theory/10.desktop.html">
        十.Docker Desktop
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"><!----><!----></div></div>
    <script src="/web-docker/assets/js/app.9237d233.js" defer></script><script src="/web-docker/assets/js/2.3ce16d38.js" defer></script><script src="/web-docker/assets/js/1.087005ed.js" defer></script><script src="/web-docker/assets/js/61.24a7281b.js" defer></script><script src="/web-docker/assets/js/19.a80fcc79.js" defer></script>
  </body>
</html>
